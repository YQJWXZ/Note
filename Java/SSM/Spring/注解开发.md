# 注解开发
## 1. 注解开发定义bean
1. 使用@Component定义bean
> @Component("bookDao")
> @Component

2. 核心配置文件中通过组件扫描加载bean
> <context:component-scan base-package="com.itheima"/>

Spring提供@Component注解的三个衍生注解：
* @Controller : 用于表现层bean定义
* @Service : 用于业务层bean定义
* @Repository : 用于数据层定义bean

## 2. 纯注解开发
使用Java类替代Spring核心配置文件

```java
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan({"com.itheima.service","com.itheima.dao"})
public class SpringConfig{
    
}
```
> ApplicationContext ctx = new AnnotationConfigApplicationContext(SpringConfig.class);

``
@Configuration： 用于设定当前类为配置类
``

``
@ComponentScan: 用于设定扫描路径，此注解只能添加一次
``

## 3. 注解开发bean管理
1. bean作用范围
> @Scope("singleton")
> @Scope("prototype")

2. bean生命周期
> @PostConstruct
> @PreDestroy

## 4. 依赖注入
自动装配
> @Autowired  按类型装配（反射）
> @Qualifier("BookDao")  无法单独，必须配合@Autowired

加载properties文件
>@PropertySource("classpath:jdbc.properties")

## 5. 第三方bean管理
1. 第三方bean管理
* 使用独立的配置类管理第三方bean
* 将独立的配置类加入核心配置
  1. 导入式： 使用@Import({JdbcConfig.class})手动加入配置类到核心配置
  2. 扫描式（不推荐）： 使用@ComponentScan({"com.itheima.config","com.itheima.service","com.itheima.dao"})扫描配置类所在的包

2. 第三方bean依赖注入
* 简单类型依赖注入  ``@value("xxxx")下定义成员变量，形参传入``
* 引用类型注入： ``@Bean注解，只需要为bean定义方法设置形参，容器会根据类型自动装配对象``

## 6. XML配置与注解配置比较

* 定义bean
* 设置依赖注入
* 配置第三方bean
* 作用范围
* 生命周期