# 1. 网络编程入门

## 1.1 网络编程概述
1. 计算机网络
2. 网络编程   ``网络通信协议``

## 1.2 网络编程三要素
1. ip地址:  ``IPv4(32bit,4字节,点分十进制法)、IPv6(128bit,16字节,十六进制)``
* InetAddress类
  1. static InetAddress getByName(String host): 确定主机名称的IP地址，主机可以是机器名称，也可以是IP地址
  2. String getHostNName(): 获取此IP地址的主机名
  3. String getHostAddress(): 返回文本显示中的IP地址字符串
2. 端口   ``取值范围：0~65535，0~1023用于一些知名的网络服务和应用``
3. 协议 
   1. UDP协议
      * 用户数据报协议
      * 无连接通信协议，数据的发送端和接收端不建立逻辑连接
      * 用于音频、视频和普通数据（事务型）的传输
   2. TCP协议
      * 传输控制协议
      * 面向连接的通信协议，建立逻辑连接，可靠无差错
      * 上传文件、下载文件、浏览网页等

# 2. UDP通信程序

## 2.1 UDP通信原理
Java提供了DatagramSocket类作为基于UDP协议的Socket

## 2.2 UDP发送数据
发送数据的步骤：
1. 创建发送端的Socket对象(DatagramSocket)
2. 创建数据，并把数据打包
    * DatagramPacket(byte[] buf, int offset, int length, InetAddress address, int port)
3. 调用DatagramSocket对象的方法发送数据
    * void send(DatagramPacket p)
4. 关闭发送端
    * void close()

## 2.3 UDP接收数据
接收数据的步骤：
1. 创建接收端的Socket对象(DatagramSocket)
2. 创建一个数据包，用于接收数据
    * DatagramPacket(byte[] buf, int length)
3. 调用DatagramSocket对象的方法接收数据
    * void receive(DatagramPacket p)
4. 解析数据包，并把数据在控制台显示
    * byte[] getData()
    * int getLength()
5. 关闭接收端
    * void close()

# 3. TCP通信程序
## 3.1 TCP通信原理
通信的两端各建立一个Socket对象，从而在通信的两端形成网络虚拟链路

Java对基于TCP协议的网络提供了良好的封装，使用Socket对象来代表两端的通信端口，并通过Socket产生IO流来进行网络通信

Java为客户端提供了Socket类，为服务器端提供了SeverSocket类

## 3.2 TCP发送数据
TCP发送数据的步骤：
1. 创建客户端的Socket对象
   * Socket(Striing host, int port)
2. 获取输出流，写数据
   * OutputStream  getOutputStream()
3. 释放资源
   * void close()

TCP接收数据 的步骤：
1. 创建服务器端的Socket对象(SeverSocket)
   * SeverSocket(int port)
2. 监听客户端连接，返回一个Socket对象
   * Socket accept()
3. 获取输入流，读数据，并把数据显示在控制台
   * InputStream getInputSStream()
4. 释放资源
   * void close()
```java
/**
 * 客户端： 数据来自于文本文件，接收服务器反馈
 * 服务端： 接收的数据写入文件，给出反馈
 * 
 * 出现问题： 程序一直等待
 * 原因： 读数据的方法是阻塞式的
 * 
 * 解决办法： 自定义结束标记；使用shutdownOutput()方法
 */
```